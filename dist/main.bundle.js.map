{"version":3,"sources":["/home/leo/Документы/Test-SKB-Angular/src/$_gendir lazy","/home/leo/Документы/Test-SKB-Angular/src/app/app.component.html","/home/leo/Документы/Test-SKB-Angular/src/app/app.component.sass","/home/leo/Документы/Test-SKB-Angular/src/app/app.component.ts","/home/leo/Документы/Test-SKB-Angular/src/app/app.module.ts","/home/leo/Документы/Test-SKB-Angular/src/app/http.service.ts","/home/leo/Документы/Test-SKB-Angular/src/environments/environment.ts","/home/leo/Документы/Test-SKB-Angular/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/leo/Документы/Test-SKB-Angular/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","module.exports = \"<div class=\\\"container\\\">\\n    <md-form-field>\\n        <input type=\\\"text\\\" placeholder=\\\"Город\\\" mdInput [formControl]=\\\"myControl\\\" [mdAutocomplete]=\\\"auto\\\">\\n        <md-hint align=\\\"start\\\" *ngIf=\\\"(!myControl.value)\\\"><strong>Начните вводить название</strong> </md-hint>\\n        <md-autocomplete #auto=\\\"mdAutocomplete\\\">\\n\\n            <md-option *ngFor=\\\"let city of filteredCitys | async\\\" [value]=\\\"city.City\\\">\\n                {{ city.City }}\\n            </md-option>\\n            <p *ngIf=\\\"lengthOption > 5\\\">Показанно 5 из {{lengthOption}} найденых городов Уточните запрос, чтобы увидеть остальные</p>\\n\\n            <md-option *ngIf=\\\"lengthOption === 0 && okSearch\\\">\\n                Не найдено\\n            </md-option>\\n\\n            <div *ngIf=\\\"!okSearch\\\">\\n                <p >Что-то пошло не так. Проверьте соединение с интернетом и попробуйте еще раз</p>\\n                <md-option>\\n                    <button (click)=\\\" getDataServer(); \\\">Обновить</button>\\n                </md-option>\\n            </div>\\n\\n        </md-autocomplete>\\n\\n        <div id=\\\"loader\\\" *ngIf=\\\"!wait\\\">\\n            <div id=\\\"shadow\\\"></div>\\n            <div id=\\\"box\\\"></div>\\n        </div>\\n    </md-form-field>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/leo/Документы/Test-SKB-Angular/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"p {\\n  color: #7d7777; }\\n\\n.container {\\n  width: 280px;\\n  margin: 20px auto; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/leo/Документы/Test-SKB-Angular/src/app/app.component.sass\n// module id = ../../../../../src/app/app.component.sass\n// module chunks = main","import {Component, OnInit} from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/operator/map';\nimport { City } from \"./city\";\nimport { HttpService } from \"./http.service\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.sass'],\n    providers: [HttpService],\n})\nexport class AppComponent implements OnInit {\n\n    lengthOption: number; // Количества найденых элементов\n    citys: City[] = []; // Все города полученные от сервера\n    okSearch: boolean = true; // Ответ сервера\n    wait: boolean = true; // Ожидание ответа от сервера\n    myControl: FormControl = new FormControl();\n    filteredCitys: Observable<City[]>;\n    constructor (private httpService: HttpService){}\n\n    ngOnInit() {\n        this.getDataServer();\n        this.filteredCitys = this.myControl.valueChanges\n            .startWith(null)\n            .map(val => val ? this.filter(val).slice(0, 4) : []); // Фильтрация и сокращение обьекта до 5 элементов\n    }\n\n    getDataServer () {\n        this.httpService.getData() //Получаем данные с сервера\n            .subscribe(\n                (data) => {\n                    let tmp = {} ; // Обьект для запоминания повторяющихся городов\n                    this.citys = data.json().filter(city => {\n                        return city.City in tmp ? 0 : tmp[city.City] = 1 ;\n                    });\n                    this.okSearch = true; // Статус ответа\n                },\n                (err: HttpErrorResponse) => { // Обработка ошибки если сервер не отвечает или запрос не дошел\n                    if (!err.ok) {\n                        this.okSearch = err.ok;\n                    }\n                },\n                () => {\n                    setTimeout(() =>  this.wait = false, 1000);\n                }\n            );\n\n    }\n\n    filter(val: string): City[] { // Функция фильтрации обьекта по полученному значению\n        if (this.myControl.value.length >= 1) {\n            const filteredCitysAll: City[] = this.citys.filter(city =>\n                city.City.toLowerCase().indexOf(val.toLowerCase()) === 0);\n            this.lengthOption = filteredCitysAll.length;  // запоминание максимального количества найденных элементов\n            return filteredCitysAll;\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/leo/Документы/Test-SKB-Angular/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport {MatAutocompleteModule, MatInputModule} from '@angular/material';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\n\nimport { AppComponent } from './app.component';\n\nimport { HttpModule } from \"@angular/http\";\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n      HttpModule,\n      BrowserModule,\n      MatAutocompleteModule,\n      MatInputModule,\n      FormsModule,\n      ReactiveFormsModule,\n      BrowserAnimationsModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/leo/Документы/Test-SKB-Angular/src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Http } from \"@angular/http\";\n\n@Injectable()\nexport class HttpService {\n\n  constructor(private http: Http) { }\n\n  getData(){\n    return this.http.get('http://127.0.0.1:1818/kladr');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/leo/Документы/Test-SKB-Angular/src/app/http.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /home/leo/Документы/Test-SKB-Angular/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /home/leo/Документы/Test-SKB-Angular/src/main.ts"],"sourceRoot":"webpack:///"}